# Test Configuration for Pulsar Integration

pulsar:
  url: "pulsar://localhost:6650"
  admin_url: "http://localhost:8080"
  
  namespaces:
    realtime: "public/default"  # Current namespace for real-time data
    historical: "sptraderb/historical"  # Future namespace for historical data
  
  topics:
    btc_ticker: "persistent://public/default/market-data/crypto/raw/kraken/btcusd/ticker"
    btc_trades: "persistent://public/default/market-data/crypto/raw/kraken/btcusd/trades"
    btc_spread: "persistent://public/default/market-data/crypto/raw/kraken/btcusd/spread"
    
    # Future historical topics
    btc_historical: "persistent://sptraderb/historical/crypto/btcusd/ohlcv"

database:
  url: "postgresql://postgres@localhost:5432/forex_trading"
  
  # Future crypto tables
  tables:
    crypto_ticks: |
      CREATE TABLE IF NOT EXISTS crypto_ticks (
        time TIMESTAMPTZ NOT NULL,
        symbol VARCHAR(20) NOT NULL,
        bid DECIMAL(20, 8),
        ask DECIMAL(20, 8),
        mid DECIMAL(20, 8)
      );
      
    crypto_ohlcv: |
      CREATE TABLE IF NOT EXISTS crypto_ohlcv (
        time TIMESTAMPTZ NOT NULL,
        symbol VARCHAR(20) NOT NULL,
        open DECIMAL(20, 8),
        high DECIMAL(20, 8),
        low DECIMAL(20, 8),
        close DECIMAL(20, 8),
        volume DECIMAL(20, 8)
      );

test_data:
  symbol: "BTCUSD"
  historical_days: 7
  
  # Potential data sources for historical
  sources:
    - name: "CoinGecko"
      url: "https://api.coingecko.com/api/v3"
      free_tier: true
      
    - name: "CryptoCompare"  
      url: "https://min-api.cryptocompare.com"
      free_tier: true
      
    - name: "Binance"
      url: "https://api.binance.com/api/v3"
      free_tier: true